# Flash Phrase - 英語学習アプリ

📚 CSVファイルから読み込んだ単語・フレーズを使った効率的な英語学習アプリです。

![Flash Phrase](https://img.shields.io/badge/React-19-blue) ![TypeScript](https://img.shields.io/badge/TypeScript-5-blue) ![Vite](https://img.shields.io/badge/Vite-6-purple) ![Tailwind CSS](https://img.shields.io/badge/TailwindCSS-3-cyan)

## ✨ 主な機能

### 📖 学習モード
- **日→英モード**: 日本語を見て英語を思い浮かべる学習
- **英→日モード**: 英語を見て日本語の意味を確認する学習
- **一覧モード**: すべてのフレーズを一覧で確認・復習

### 🎵 音声機能
- Web Speech APIを使用した自然な英語音声読み上げ
- ワンクリックで発音確認が可能

### 📱 レスポンシブデザイン
- デスクトップ・スマートフォン両対応
- モバイルでは音声ボタンを適切な位置に配置
- スマートフォン表示時はアイコンのみのシンプルなボタン

### 🔄 便利な機能
- シャッフル機能で順序をランダム化
- 左右キーでの直感的なナビゲーション
- マウスクリックでの進む・戻る操作

### 🔗 URL状態管理
- ブラウザリロード時に学習状態を自動復元
- URLで学習進捗の共有・ブックマークが可能
- GitHub Pages対応のハッシュルーター（`#/unit1/ja-en`形式）

## 🛠 技術スタック

### フロントエンド
- **React 19**: 最新のReact Compilerを活用
- **TypeScript**: 型安全な開発
- **Vite**: 高速なビルドツール
- **Tailwind CSS**: ユーティリティファーストCSS

### ライブラリ
- **@tabler/icons-react**: 美しいアイコンセット
- **papaparse**: CSV解析ライブラリ

### ブラウザAPI
- **Web Speech API**: 英語音声合成
- **Hash API**: ハッシュベースURL状態管理

## 🏗 アーキテクチャ

プロジェクトは保守しやすいコンポーネント設計を採用しています：

```
src/
├── App.tsx                    # メインアプリケーションロジック・URL状態管理
├── components/                # UIコンポーネント
│   ├── UnitSelect.tsx        # 学習モード選択コンポーネント
│   ├── PhraseCard.tsx        # フレーズ表示カード
│   ├── UnitList.tsx          # 一覧表示コンポーネント
│   └── UnitListHeader.tsx    # 一覧ヘッダー・ナビゲーション
├── hooks/                     # カスタムフック
│   ├── useCSVLoader.ts       # CSV読み込みロジック
│   ├── useSpeech.ts          # 音声再生ロジック
│   └── useURLManager.ts      # URL状態管理ロジック
├── utils/                     # ユーティリティ関数
│   └── phraseUtils.ts        # フレーズ操作関数
├── types/                     # 型定義
│   └── index.ts              # 共通型定義
├── constants/                 # 定数定義
│   └── index.ts              # アプリケーション定数
└── assets/
public/
├── unit1-10.csv              # 学習データ（CSV形式）
└── 404.html                  # GitHub Pages SPA対応（ハッシュルーター採用により不要）
```

### 🔧 技術的特徴

- **モジュラーアーキテクチャ**: 機能別にファイルを分離し、再利用性と保守性を向上
- **カスタムフック**: ビジネスロジックをコンポーネントから分離
- **型安全性**: TypeScriptによる厳密な型定義で実行時エラーを防止
- **ユーティリティ関数**: 共通処理を関数化してコード重複を削減

## 🚀 セットアップ

### 必要な環境
- Node.js 18以上
- npm または yarn

### インストール
```bash
# リポジトリをクローン
git clone <repository-url>
cd flash-phrase

# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev
```

### ビルド
```bash
# プロダクション用ビルド
npm run build

# ビルドをプレビュー
npm run preview
```

## 📝 データ形式

各ユニットの学習データは個別のCSVファイルで管理されています：

**ファイル名**: `public/unit1.csv`, `public/unit2.csv`, ... , `public/unit10.csv`

```csv
No,EN,JA
1,Hello,こんにちは
2,Thank you,ありがとう
3,Good morning,おはよう
```

- **No**: ユニット内の通し番号
- **EN**: 英語のフレーズ
- **JA**: 対応する日本語のフレーズ

## 🌐 デプロイ

このアプリケーションはGitHub Pagesでの動作を前提に設計されています。

### GitHub Pagesへのデプロイ
1. `npm run build` でアプリケーションをビルド
2. `docs/` フォルダの内容をGitHub Pagesにアップロード
3. ハッシュルーター採用により、追加設定なしでSPAが動作

### ハッシュルーター対応
- ハッシュベースURL（`#/unit1/ja-en?index=5`）でGitHub Pages完全対応
- URL直アクセス・リロード時も適切に動作
- 追加の設定ファイル不要

## 🎯 使い方

1. **学習モード選択**: 日→英、英→日、または一覧から選択
2. **ナビゲーション**: 
   - 左右矢印キーまたはボタンでフレーズ移動
   - シャッフルボタンで順序をランダム化
3. **音声確認**: スピーカーボタンで英語音声を再生
4. **状態保存**: ハッシュURLが自動更新され、ブラウザリロード時に状態を復元

## 📱 モバイル最適化

- 文字サイズの自動調整
- タッチ操作に配慮したボタン配置
- アイコンのみの簡潔なインターフェース
- 音声ボタンをコンテンツ下部に配置

## 🛡 コード品質

### リファクタリング済みアーキテクチャ
- **型安全性**: 共通型定義による実行時エラーの防止
- **カスタムフック**: ロジックの再利用性とテストの容易性
- **ユーティリティ関数**: コード重複の削減
- **モジュラー設計**: 機能別ファイル分離による保守性向上

### パフォーマンス最適化
- メモ化による不要な再レンダリング防止
- カスタムフックでの効率的な状態管理
- ハッシュルーターによる高速なクライアントサイドルーティング
