# Flash Phrase - 英語学習アプリ

📚 CSVファイルから読み込んだ単語・フレーズを使った効率的な英語学習アプリです。

![Flash Phrase](https://img.shields.io/badge/React-19-blue) ![TypeScript](https://img.shields.io/badge/TypeScript-5-blue) ![Vite](https://img.shields.io/badge/Vite-6-purple) ![Tailwind CSS](https://img.shields.io/badge/TailwindCSS-3-cyan)

## ✨ 主な機能

### 📖 学習モード
- **日→英モード**: 日本語を見て英語を思い浮かべる学習
- **英→日モード**: 英語を見て日本語の意味を確認する学習
- **一覧モード**: すべてのフレーズを一覧で確認・復習

### 🔄 学習補助機能
- **シャッフル機能**: 順序をランダム化（ON:ピンク、OFF:グレーで視覚的に区別）
- **進捗表示**: 現在の位置と全体数を表示（例：5/20）
- **ユニットナビゲーション**: 具体的なユニット番号で前後のユニットへ移動
- **音声機能**: Web Speech APIによる自然な英語音声読み上げ
- **操作方法**: 左右キー/ボタン/クリックで直感的なナビゲーション

### 🔗 状態管理
- ブラウザリロード時に学習状態を自動復元
- URLで学習進捗の共有・ブックマークが可能
- GitHub Pages対応のハッシュルーター（`#/unit1/ja-en`形式）

### 📱 レスポンシブデザイン
- デスクトップ・スマートフォン両対応
- モバイル最適化（文字サイズ自動調整、タッチ操作対応）
- スマートフォン表示時はアイコンのみのシンプルなUI
- 音声ボタンをコンテンツ下部に配置

## 🛠 技術スタック

### フロントエンド
- **React 19**: 最新のReact Compilerを活用
- **TypeScript**: 型安全な開発
- **Vite**: 高速なビルドツール
- **Tailwind CSS**: ユーティリティファーストCSS

### ライブラリ
- **@tabler/icons-react**: 美しいアイコンセット
- **papaparse**: CSV解析ライブラリ

### ブラウザAPI
- **Web Speech API**: 英語音声合成
- **Hash API**: ハッシュベースURL状態管理

## 🏗 アーキテクチャ

プロジェクトは保守しやすいコンポーネント設計を採用しています：

```
src/
├── App.tsx                    # メインアプリケーションロジック・URL状態管理
├── components/                # UIコンポーネント
│   ├── UnitSelect.tsx        # 学習モード選択コンポーネント
│   ├── PhraseCard.tsx        # フレーズ表示カード（進捗表示・シャッフル状態）
│   ├── UnitList.tsx          # 一覧表示コンポーネント
│   └── UnitListHeader.tsx    # 一覧ヘッダー・ナビゲーション
├── hooks/                     # カスタムフック
│   ├── useCSVLoader.ts       # 動的CSV読み込みロジック（キャッシュ機能付き）
│   ├── useSpeech.ts          # 音声再生ロジック
│   └── useURLManager.ts      # URL状態管理ロジック
├── utils/                     # ユーティリティ関数
│   └── phraseUtils.ts        # フレーズ操作関数
├── types/                     # 型定義
│   └── index.ts              # 共通型定義
├── constants/                 # 定数定義
│   └── index.ts              # アプリケーション定数
└── assets/
public/
├── unit1.csv ~ unit10.csv    # 学習データ（CSV形式）
└── 404.html                  # GitHub Pages SPA対応（ハッシュルーター採用により不要）
```

### 🔧 技術的特徴

- **モジュラーアーキテクチャ**: 機能別にファイルを分離し、再利用性と保守性を向上
- **型安全性**: TypeScriptによる厳密な型定義で実行時エラーを防止
- **カスタムフック**: ビジネスロジックをコンポーネントから分離し、テストの容易性を向上
- **ユーティリティ関数**: 共通処理を関数化してコード重複を削減

### ⚡ パフォーマンス最適化

- **動的データ読み込み**: 必要なユニットのみをオンデマンドで読み込み、初期起動を高速化
- **キャッシュ機能**: 一度読み込んだデータをメモリ上で管理し、再読み込みを防止
- **メモ化**: React.memoやuseMemoで不要な再レンダリングを防止
- **効率的な状態管理**: カスタムフックによる最適化された状態管理
- **ハッシュルーター**: クライアントサイドルーティングで高速なページ遷移

## 🚀 セットアップ

### 必要な環境
- Node.js 18以上
- npm または yarn

### インストール
```bash
# リポジトリをクローン
git clone <repository-url>
cd flash-phrase

# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev
```

### ビルド
```bash
# プロダクション用ビルド
npm run build

# ビルドをプレビュー
npm run preview
```

## 📝 データ形式

各ユニットの学習データは個別のCSVファイルで管理されています：

**ファイル名**: `public/unit1.csv`, `public/unit2.csv`, ... , `public/unit10.csv`

```csv
No,EN,JA
1,Hello,こんにちは
2,Thank you,ありがとう
3,Good morning,おはよう
```

- **No**: ユニット内の通し番号
- **EN**: 英語のフレーズ
- **JA**: 対応する日本語のフレーズ

## 🌐 デプロイ

このアプリケーションはGitHub Pagesでの動作を前提に設計されています。

### GitHub Pagesへのデプロイ
1. `npm run build` でアプリケーションをビルド
2. `docs/` フォルダの内容をGitHub Pagesにアップロード
3. ハッシュルーター採用により、追加設定なしでSPAが動作

### ハッシュルーター対応
- ハッシュベースURL（`#/unit1/ja-en?index=5`）でGitHub Pages完全対応
- URL直アクセス・リロード時も適切に動作
- 追加の設定ファイル不要

## 🎯 使い方

1. **学習モード選択**: 日→英、英→日、または一覧から選択
2. **ナビゲーション**: 
   - 左右矢印キーまたはボタンでフレーズ移動
   - シャッフルボタンで順序をランダム化（ON:ピンク、OFF:グレー）
   - 進捗表示（X/Y形式）で現在位置を把握
3. **音声確認**: スピーカーボタンで英語音声を再生
4. **状態保存**: ハッシュURLが自動更新され、ブラウザリロード時に状態を復元
5. **ユニット移動**: 一覧画面で具体的なユニット番号を確認して前後のユニットへ移動

## 🛡 コード品質・アーキテクチャ

### 設計原則
- **単一責任の原則**: 各コンポーネント・フックは明確な責任を持つ
- **関心の分離**: UI/ロジック/データ層を明確に分離
- **再利用性**: 共通ロジックをカスタムフック化
- **テスタビリティ**: ビジネスロジックをコンポーネントから分離
